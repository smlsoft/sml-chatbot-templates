{
  "templateId": "ap",
  "templateName": "Accounts Payable",
  "description": "Trans flag mapping สำหรับแผนกบัญชีเจ้าหนี้ - กรองเฉพาะ trans_flag ที่เกี่ยวข้องกับการซื้อและการเงินเจ้าหนี้",
  "version": "1.0.0",
  
  "categories": {
    "ใบเสนอซื้อ": {
      "description": "Purchase Requisition (PR)",
      "trans_flags": [2, 3, 4],
      "keywords": ["PR", "เสนอซื้อ", "requisition", "ขอซื้อ", "แจ้งความต้องการ"],
      "trans_flag_details": {
        "2": "บันทึกใบเสนอซื้อ",
        "3": "ยกเลิกใบเสนอซื้อ",
        "4": "อนุมัติใบเสนอซื้อ"
      }
    },
    
    "ใบสั่งซื้อ": {
      "description": "Purchase Order (PO)",
      "trans_flags": [6, 7, 8],
      "keywords": ["PO", "สั่งซื้อ", "purchase order", "ใบสั่งซื้อ"],
      "trans_flag_details": {
        "6": "บันทึกใบสั่งซื้อ",
        "7": "ยกเลิกใบสั่งซื้อ",
        "8": "อนุมัติใบสั่งซื้อ"
      }
    },
    
    "รับสินค้า_ซื้อ": {
      "description": "การรับสินค้าและตั้งหนี้เจ้าหนี้",
      "trans_flags": [12, 14, 16, 310, 311, 315, 316, 317, 330, 331, 335, 336, 337],
      "keywords": ["รับสินค้า", "ซื้อ", "receive", "ตั้งหนี้", "เพิ่มหนี้", "ลดหนี้", "เจ้าหนี้", "AP", "debit note", "credit note"],
      "trans_flag_details": {
        "12": "ซื้อสินค้า (รับสินค้า + ตั้งหนี้)",
        "14": "เพิ่มหนี้เจ้าหนี้, เพิ่มสินค้า",
        "16": "ลดหนี้เจ้าหนี้, ส่งคืนสินค้า",
        "310": "รับสินค้าแบบ Partial",
        "311": "ส่งคืนสินค้า/ราคาผิด (Partial)",
        "315": "ตั้งหนี้ (Partial)",
        "316": "เพิ่มหนี้ (Partial)",
        "317": "ลดหนี้ (Partial)",
        "330": "ยกเลิกรับสินค้า",
        "331": "ยกเลิกส่งคืนสินค้า",
        "335": "ยกเลิกตั้งหนี้",
        "336": "ยกเลิกเพิ่มหนี้",
        "337": "ยกเลิกลดหนี้"
      }
    },
    
    "การจ่ายเงิน": {
      "description": "การจ่ายเงินให้เจ้าหนี้",
      "trans_flags": [10, 11, 18, 20, 22, 25, 150, 151],
      "keywords": ["จ่าย", "payment", "ชำระ", "มัดจำ", "ล่วงหน้า", "เงินสด", "จ่ายเงิน"],
      "trans_flag_details": {
        "10": "จ่ายเงินล่วงหน้า",
        "11": "จ่ายเงินมัดจำ",
        "18": "จ่ายเงินสดเจ้าหนี้",
        "20": "รับคืนเงินล่วงหน้า",
        "22": "จ่ายเงินสด",
        "25": "รับคืนเงินมัดจำ",
        "150": "ยกเลิกจ่ายเงินล่วงหน้า",
        "151": "ยกเลิกจ่ายเงินมัดจำ"
      }
    },
    
    "เช็คจ่าย": {
      "description": "การจ่ายเงินด้วยเช็ค",
      "trans_flags": [406, 451, 452, 453, 456, 471, 472, 473, 476],
      "keywords": ["เช็ค", "cheque", "check", "เช็คจ่าย", "เช็คผ่าน", "เช็คคืน"],
      "trans_flag_details": {
        "406": "เช็คจ่ายยกมา",
        "451": "เช็คจ่ายผ่าน",
        "452": "เช็คจ่ายยกเลิก",
        "453": "เช็คจ่ายคืน",
        "456": "เปลี่ยนเช็คจ่าย",
        "471": "ยกเลิกเช็คจ่ายผ่าน",
        "472": "ยกเลิกเช็คจ่ายยกเลิก",
        "473": "ยกเลิกเช็คจ่ายคืน",
        "476": "ยกเลิกเปลี่ยนเช็คจ่าย"
      }
    },
    
    "บัตรเครดิต": {
      "description": "การชำระด้วยบัตรเครดิต",
      "trans_flags": [461, 462],
      "keywords": ["บัตรเครดิต", "credit card", "เครดิต", "ขั้นบัตร"],
      "trans_flag_details": {
        "461": "ขั้นเงินบัตรเครดิต",
        "462": "ยกเลิกบัตรเครดิต"
      }
    }
  },
  
  "all_trans_flags": [2, 3, 4, 6, 7, 8, 10, 11, 12, 14, 16, 18, 20, 22, 25, 150, 151, 310, 311, 315, 316, 317, 330, 331, 335, 336, 337, 406, 451, 452, 453, 456, 461, 462, 471, 472, 473, 476],
  
  "usage_notes": {
    "purpose": "ใช้กรอง trans_flag ที่เกี่ยวข้องกับแผนกบัญชีเจ้าหนี้ เพื่อให้ AI เลือก trans_flag ที่ถูกต้องเมื่อ generate SQL",
    "how_to_use": "ค้นหา keyword ในคำถามของ user แล้ว match กับ categories.keywords เพื่อหา trans_flags ที่เหมาะสม",
    "special_conditions": {
      "cancel_transactions": "trans_flag = 7 ต้องเช็คเพิ่ม: cancel_type = 2",
      "partial_transactions": "trans_flag 310-337 สำหรับธุรกรรมแบบทยอย",
      "trans_type": "ใช้ trans_type = 2 สำหรับ filter เจ้าหนี้ (AP)"
    }
  }
}
